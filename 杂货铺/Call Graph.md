# 零、概念 & 问题 & 相关资料

## 概念

##### 1. Call Graph

调用图，描述程序中函数之间的调用关系。

##### 2. 语法树

语法树是一种树状数据结构，用于表示源代码的语法结构。

- 每个节点代表语法中的一个**语法结构**，如
  - 表达式
  - 语句
  - 操作符
- 叶子节点通常表示标识符、常量或关键字

**示例**：

`3 + 5 * 2` 的语法树如下

```markdown
      +
     / \
    3   *
       / \
      5   2

```

##### 3. 语法树解释器

语法树解释器是一种解释器，通过遍历语法树执行源代码。

**工作原理**：

1. **构建语法树**：解释器首先解析源代码，生成相应的语法树
2. **遍历语法树**：解释器按照特定的遍历顺序（前序遍历/后序遍历）访问语法树的每个节点。
3. **执行操作**：根据节点类型执行相应的操作。
   - 如果是算术操作符节点，解释器会计算其子节点的值，然后应用操作符。





## 相关资料

https://zhuanlan.zhihu.com/p/681929781





# 一、分类

##### 静态调用图（Static Call Graph）

- 通过静态代码分析调用图
  - 关键是**语法树解释器**，分为两类
    - 自维护解释器。自己编写语法树的解释逻辑。
    - 第三方解释器。使用 gcc 进行解释。
- 优点
  - 生成速度快，不需要执行代码
- 缺点
  - 可能包含一些不实际使用的调用
  - 由于编译过程的复杂和 C/C++ 语言中指针的灵活应用，调用图很难 100% 准确



##### 动态调用途（Dynamic Call Graph）

- 通过运行程序并检测函数调用生成的调用图
- 优点
  - 准确。因为在运行时进行记录，所以它的分析很准确。
- 缺点
  - 不全面。只能分析运行过的函数。



# 二、具体项目

## 1. 静态调用图

### 1.1 自维护解释器

